const s=t=>{const e=t.toString();return e[1]?e:`0${e}`},p=(t=6,e=!1)=>{const r="0123456789";let n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";e?n=r:n+=r;let o=n.length-1,i="";for(let a=0;a<t;a++){let l=Math.ceil(Math.random()*o);i+=n[l]}return i},c=(t,e="YYYY-MM-DD")=>{t instanceof Date||(t=t?new Date(t):new Date);const r=t.getFullYear(),n=s(t.getMonth()+1),o=s(t.getDate()),i=s(t.getHours()),a=s(t.getMinutes()),l=s(t.getSeconds());return e.replace("YYYY",r).replace("MM",n).replace("DD",o).replace("hh",i).replace("mm",a).replace("ss",l)},u=(t,e="YYYY-MM-DD")=>{if(!t)return;const r=new Date(parseInt(t.toString().substring(0,8),16)*1e3);return c(r,e)},g=t=>t>1099511627776?`${Math.round(t/1099511627776*100)/100}Tb`:t>1073741824?`${Math.round(t/1073741824*100)/100}Gb`:t>1048576?`${Math.round(t/1048576*100)/100}Mb`:t>1024?`${Math.round(t/1024*100)/100}Kb`:`${t}B`,$=t=>{let{data:e=[],key:r="_id",pKey:n="pid",cKey:o="children"}=t;return!(e instanceof Array)&&e.length===0?[]:(e=JSON.parse(JSON.stringify(e)),e.filter(i=>{let a=e.filter(l=>i[r]===l[n]);return a.length&&(i[o]=a),!i[n]||i[n]=="0"}))},h=t=>t>1e4?`${Math.round(t/1e3)/10}w`:t>1e3?`${Math.round(t/100)/10}k`:t||0,x=t=>/^\w+@\w+\.\w+$/.test(t),M=t=>/^1[2-9]\d{9}$/.test(t),m=t=>{if(!/^[\u4e00-\u9fa5a-zA-Z0-9_-]+$/.test(t))return!1;const r=t.replace(/[a-zA-Z0-9_-]/g,"").length,n=t.length-r,o=r*2+n;return!(o<4||o>20)},d=t=>/^[\u4e00-\u9fa5]{2,20}$/.test(t),D=(t=0)=>new Promise(e=>{const r=setTimeout(()=>{e(),clearTimeout(r)},t)}),Y=t=>{const e=new URLSearchParams;for(const r in t)e.append(r,t[r]);return e.toString()},w=(t,e,r,n,o)=>{if(!t)return"";if(t.startsWith("/pic/"))return`${t}?${e||0}x${r||0}-${o||""}-${n||""}`.replace(/^(.*?)\-\-?$/,"$1");if(t.indexOf("zwillcloud/")>-1){let i="?x-oss-process=image/resize";return e&&(i+=",w_"+e),r&&(i+=",h_"+r),n&&(i+=",m_"+n),o&&(i+="/format,"+o),t+i}return t},B=t=>{let e="";if(t>3600){let r=Math.floor(t/3600);e+=`${r}\u65F6`,t=t%3600}if(t>60){let r=Math.floor(t/60);e+=`${r}\u5206`,t=t%60}return e+=`${t}\u79D2`,e},y=(t,e="-")=>{const r=new Date;if(t>0){const n=t==1,o=new Date(r.getTime()-3600*24e3*(t-1)),i=`${r.getFullYear()}${e}${s(r.getMonth()+1)}${e}${s(r.getDate())}`,a=`${o.getFullYear()}${e}${s(o.getMonth()+1)}${e}${s(o.getDate())}`;return{start_date:n?i:a,end_date:i,isToday:n}}else{const n=new Date(r.getTime()+864e5*t),o=`${n.getFullYear()}${e}${s(n.getMonth()+1)}${e}${s(n.getDate())}`;return{start_date:o,end_date:o,isToday:t==0,isYesterday:t==-1,isBeforeYesterday:t==-2}}},S=t=>{var e=[],r=JSON.stringify(t,function(n,o){if(typeof o=="object"&&o!==null){if(e.indexOf(o)!==-1)return;e.push(o)}return o});return e=null,r},f=t=>t>3600?`${Math.floor(t/3600)}\u5C0F\u65F6`:t>60?`${Math.floor(t/60)}\u5206\u949F`:`${Math.floor(t)}\u79D2`,T=t=>{const e=Date.now()/1e3,r=u(t,"YYYY-MM-DD hh:mm:ss"),n=new Date(r).getTime()/1e3,o=e-n;return o<86400?f(o)+"\u524D":r.split(" ")[0]},F=t=>{let e=[];const r=Math.ceil(t.length/2);for(let n=0;n<r;n++)e.push(t.slice(n*2,n*2+2));return e=e.map(n=>{let o="";for(let i=0;i<n.length;i++)o+="\\x"+n.charCodeAt(i).toString(16);return o}),JSON.stringify(e).replaceAll('"',"'").replace(/\\\\/g,"\\").replaceAll(",","+")},A=t=>/^(\d{1,3}\.){3}\d{1,3}(:\d+)?$/.test(t),_=t=>/^(?:[0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}(:\d+)?$/.test(t),b=t=>{let e="";for(let r=0;r<t.length;r++)e+=`\\u${t.charCodeAt(r).toString(16)}`;return e},v=t=>{if(!t)return"";let e="";for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n>=19968&&n<=40959?e+=`&#${n};`:e+=t[r]}return e},K=t=>/Mobile|Android|iPhone|Windows Phone|MicroMessenger/i.test(t);export{g as byteFormat,S as circularToJson,w as cloudImgFormat,v as cn2charcode,c as dateFormat,u as dateFromID,B as durationTimeFormat,f as durationTimeFormat2,p as generateMixed,y as getStartAndEndDate,A as isIPv4,_ as isIPv6,K as isMobile,h as numFormat,s as preZero,Y as query2str,D as sleep,F as splitStr2Arr,T as timeFormat,$ as toTree,b as toUnicode,x as verifyEmail,M as verifyPhone,d as verifyRealname,m as verifyUsername};
